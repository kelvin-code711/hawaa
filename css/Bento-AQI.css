/* =========================
   Bento AQI — Single Box (Centered + Minimalist Tint)
   ========================= */

:root{
  --ink-1:#0b0f12;
  --muted:#5a6b73;
  --surface:#ffffff;
  --soft:#f7f8fa;                /* soft card */
  --tint:#f5f7fb;                /* minimalist section background */

  /* AQI palette */
  --good:#34c759; --moderate:#ffd60a; --usg:#ff8c00;
  --unhealthy:#ff3b30; --very:#bf5af2; --hazard:#8e2a2a;

  /* content width cap for centered layout */
  --content-w: 560px;
}

#bento-aqi{ font-family:'Outfit',system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif; background:var(--tint); }
.bento-merged{
  display:grid;
  grid-template-columns: 1.2fr 1fr;
  gap:24px;
  padding:36px 12px;
  align-items:center;
}

/* Left column */
.bento-merged__left{ display:flex; justify-content:center; }
.left-inner{
  width:min(100%, var(--content-w));
  margin-inline:auto;
  display:flex; flex-direction:column; gap:16px;
  text-align:center;
}
.bento-head h1{ font-size:28px; font-weight:700; margin:0; color:var(--ink-1); }
.bento-head p{ font-size:14px; margin:6px 0 0; color:var(--muted); }

/* Search stack */
.search-row{
  display:grid;
  grid-template-columns:1fr;
  grid-auto-rows:auto;
  gap:10px;
}
.search-input{ position:relative; } /* needed for dropdown */
.search-input input{
  width:100%; padding:12px 16px;
  border:none; border-radius:12px;
  background:var(--soft); font-size:15px; color:var(--ink-1);
  box-shadow:0 1px 0 rgba(0,0,0,.03);
}
.search-input input::placeholder{ color:var(--muted); font-weight:300; }

/* Typeahead dropdown */
.typeahead{
  position:absolute; left:0; right:0; top:calc(100% + 6px);
  background:#fff; border:1px solid rgba(0,0,0,.08); border-radius:12px;
  box-shadow:0 8px 24px rgba(0,0,0,.08), 0 1px 0 rgba(0,0,0,.04);
  overflow:hidden; z-index:30; display:none; text-align:left;
  max-height:280px; overflow-y:auto;
}
.typeahead__item{
  display:flex; gap:10px; align-items:flex-start;
  padding:10px 12px; cursor:pointer;
}
.typeahead__item:hover,
.typeahead__item[aria-selected="true"]{ background:#f5f7fb; }
.typeahead__main{ flex:1 1 auto; min-width:0; }
.typeahead__name{ font-size:14px; color:var(--ink-1); font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.typeahead__meta{ font-size:12px; color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.typeahead__aqi{ font-size:12px; padding:4px 8px; border-radius:999px; background:#eef1f5; color:var(--ink-1); }

/* Buttons row */
.actions{ display:flex; gap:8px; justify-content:center; }
#locateBtn.locate-btn,
.search-btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:12px 16px; border-radius:12px;
  border:1px solid rgba(0,0,0,.08); background:#fff; color:var(--ink-1);
  font-size:14px; cursor:pointer; transition:background .2s ease, transform .06s ease;
}
#locateBtn.locate-btn:hover,
.search-btn:hover{ background:#f0f2f4; }
.search-btn:active{ transform:scale(.98); }

/* States / Result */
.aqi-states{ display:flex; flex-direction:column; gap:16px; }
.empty-hint, .loading-copy{ font-size:14px; color:var(--muted); }
.aqi-result{
  display:grid; gap:14px;
  justify-items:center;
  align-content:start;
}

/* Smooth state transitions */
.aqi-empty, .aqi-loading, .aqi-result{
  opacity:0; transform:translateY(6px);
  transition:opacity .24s ease, transform .24s ease;
}
.aqi-empty.is-visible, .aqi-loading.is-visible, .aqi-result.is-visible{
  opacity:1; transform:none;
}

/* CSS ring */
.ring{
  --pct: 0;  --clr: var(--good);
  width:96px; height:96px; border-radius:50%;
  background: conic-gradient(var(--clr) calc(var(--pct)*1%), #e9edf1 0);
  position:relative;
}
.ring::after{ content:""; position:absolute; inset:12px; border-radius:50%; background:var(--tint); }

.is-good .ring{ --clr: var(--good); }
.is-moderate .ring{ --clr: var(--moderate); }
.is-usg .ring{ --clr: var(--usg); }
.is-unhealthy .ring{ --clr: var(--unhealthy); }
.is-very .ring{ --clr: var(--very); }
.is-hazard .ring{ --clr: var(--hazard); }

.result-score{ display:flex; align-items:baseline; gap:6px; }
.result-score .num{ font-size:32px; font-weight:700; color:var(--ink-1); }
.result-score .label{ font-size:12px; color:var(--muted); letter-spacing:.08em; text-transform:uppercase; }
.result-status{ font-size:13px; color:var(--muted); }

/* PM tiles */
.pm-stats{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px; }
.pm-tile{
  background:var(--soft); border:none; border-radius:12px;
  padding:14px 16px; display:grid; gap:4px; min-height:92px;
}
.pm-label{ font-size:12px; letter-spacing:.08em; text-transform:uppercase; color:var(--muted); }
.pm-value{ font-size:28px; font-weight:800; line-height:1; color:var(--ink-1); }
.pm-unit{ font-size:12px; color:var(--muted); }
.pm-xwho{ margin-top:4px; display:inline-block; font-size:11px; line-height:1; padding:6px 8px; border-radius:999px; background:#eef1f5; color:var(--ink-1); }

/* Right column image — keep it still (no snap/recenter) */
.bento-merged__right{
  min-height:220px; display:flex; align-items:flex-start; justify-content:center; /* pin to top */
  background:transparent; border-radius:16px; overflow:hidden;
}
.bento-merged__right img{
  width:100%; height:auto; display:block; object-fit:cover;
  object-position: var(--image-x, 50%) 50%;
}

/* Focus bump */
.input-bump{ outline:2px solid #ff6666; outline-offset:2px; }

/* Responsive */
@media (max-width:980px){
  .bento-merged{ grid-template-columns:1fr; }
  .bento-merged__right{ display:none; }
}
@media (min-width:1280px){
  .left-inner{ --content-w: 620px; }
}

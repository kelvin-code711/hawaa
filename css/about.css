/* -------------------------------------------------------------
   Outfit font (served from /hawaa/fonts)
------------------------------------------------------------- */
@font-face{
  font-family:"Outfit";
  src:local("Outfit Regular"),
      url("/hawaa/fonts/Outfit-Regular.woff2") format("woff2"),
      url("/hawaa/fonts/Outfit-Regular.woff") format("woff");
  font-weight:400; font-style:normal; font-display:swap;
}
@font-face{
  font-family:"Outfit";
  src:local("Outfit Bold"),
      url("/hawaa/fonts/Outfit-Bold.woff2") format("woff2"),
      url("/hawaa/fonts/Outfit-Bold.woff") format("woff");
  font-weight:700; font-style:normal; font-display:swap;
}

/* Base / sizing */
*{ box-sizing:border-box; }
html,body{ height:100%; }
html{ -webkit-text-size-adjust:100%; }
body{
  margin:0;
  font-family:"Outfit",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:#fff;
  background:#fff;            /* page bg #fff */
  overflow-x:clip;            /* hard stop any horizontal page scroll */
  touch-action:pan-y;         /* allow vertical page scroll only */
  overscroll-behavior-x:none; /* block horizontal overscroll chaining */
}

/* Vars (S1 geometry) */
:root{
  --circle-size:100vw;
  --circle-offset-y:50vh;
  --text-ring-scale:1.02;
  --text-ring-font-size:80px;
  --rotation:0deg;
  --vh:1vh; /* JS will set real mobile 1% height */
}

/* -------- Curtain Reveal scaffold -------- */
.curtain{ width:100%; overflow-x:clip; }
.scene{
  position:relative;
  height:200vh;               /* pin + slide */
}
.scene + .scene{ margin-top:-100vh; } /* overlap by one viewport */

/* Sticky card per scene (S1 & S2 sticky; S3 relaxes later) */
.card{
  position:sticky; top:0;
  height:100vh; height:calc(var(--vh,1vh)*100);
  display:grid; place-items:center; isolation:isolate;
  text-align:center; padding:0;
}
#scene1 .card{ z-index:1; }
#scene2 .card{ z-index:2; }
#scene3 .card{ z-index:3; }

/* -------- SCENE 1 -------- */
.s1{ background:#287392; overflow:hidden; }
.s1-wrap{ position:relative; width:100vw; height:calc(var(--vh,1vh)*100); }

.s1 .circle{
  position:absolute; bottom:0; left:50%;
  width:var(--circle-size); height:var(--circle-size);
  background:#fff; border-radius:50%;
  transform:translate(-50%, calc(50% + var(--circle-offset-y)));
}
.s1 .text-ring{
  position:absolute; bottom:0; left:50%;
  width:var(--circle-size); height:var(--circle-size);
  pointer-events:none; overflow:visible; transform-origin:center;
  transform:
    translate(-50%, calc(50% + var(--circle-offset-y)))
    scale(var(--text-ring-scale))
    rotate(var(--rotation));
}
.s1 .text-ring text{ font-size:var(--text-ring-font-size); fill:#fff; }
.s1 .circle-center-image{
  position:absolute; bottom:0; left:50%;
  transform:translate(-50%, 0%);
  width:620px; height:620px; overflow:hidden; border:0; z-index:10;
}
.s1 .circle-center-image img{ width:100%; height:100%; object-fit:cover; }

/* -------- SCENE 2 (white card) -------- */
.s2{ background:transparent; }
.blank-card{
  position:relative; z-index:2;
  width:100vw; max-width:100vw;
  height:calc(var(--vh,1vh)*100);
  padding:32px clamp(16px,4vw,40px);
  margin:0 auto;
  background:#fff; border-radius:24px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
  overflow:hidden;

  display:grid;
  grid-template-columns:1fr;
  justify-items:center;
  row-gap:var(--card-gap,24px);
}
.blank-card p{
  font-size:clamp(18px,3.2vw,40px);
  line-height:1.25; text-align:left; margin:0; max-width:600px; color:#333;
  letter-spacing:var(--card-letter-spacing,0);
}
.card-headline{
  font-size:clamp(22px,2.4vw,40px); font-weight:600;
  color:#287392; text-align:left; margin:0 0 8px 0; max-width:600px;
}
.card-subtext{
  font-size:clamp(16px,1.6vw,28px);
  line-height:1.35; text-align:left; margin:0; color:#333; max-width:600px;
}
.highlight{ padding:0 4px; border-radius:4px; color:#fff; }
.highlight-1{ background:#244255; } .highlight-2{ background:#265e78; } .highlight-3{ background:#2d8fad; }

.card-image-wrapper{
  width:min(1100px,92vw); border-radius:32px; overflow:hidden;
  transform-origin:center; will-change:transform; position:relative; z-index:20;
}
.card-image-wrapper img{ display:block; width:100%; height:auto; }

/* -------- SCENE 3 (Impact + Pilot Units) -------- */
#scene3{ height:auto; }
#scene3 .card.s3{
  position:relative; top:auto; height:auto; display:block;
  background:rgba(229,246,249,1);
  color:#333; text-align:left; padding:120px 0 80px 0;
}
.s3 .impact-wrap{ width:100%; }
.s3 .container{ max-width:600px; margin:0 auto 80px; padding:0 40px; }
.s3 .main-heading{
  font:600 clamp(28px,5vw,48px)/1.2 "Outfit",sans-serif;
  color:#287392; margin:0 0 40px 0; letter-spacing:-0.5px;
}
.s3 .description-text{ font-size:clamp(16px,2.2vw,24px); line-height:1.6; color:#333; margin:0; }

/* Pilot cards strip */
.s3 .cards-container{
  display:flex; gap:24px; padding:0 40px;
  width:calc(420px * 4 + 24px * 3 + 80px);
  min-width:max-content;

  overflow-x:auto; overflow-y:hidden;
  -webkit-overflow-scrolling:touch;

  /* KEY: only this element can scroll horizontally */
  touch-action:pan-x pinch-zoom;
  overscroll-behavior-inline:contain;
  overscroll-behavior-x:contain;

  scrollbar-width:thin; scrollbar-color:#ccc transparent;
}
.s3 .cards-container::-webkit-scrollbar{ height:8px; }
.s3 .cards-container::-webkit-scrollbar-track{ background:transparent; }
.s3 .cards-container::-webkit-scrollbar-thumb{ background:#ccc; border-radius:4px; }
.s3 .cards-container::-webkit-scrollbar-thumb:hover{ background:#999; }

.s3 .stats-card{
  width:420px; height:480px; background:#fff; border-radius:24px;
  padding:40px 32px; display:flex; flex-direction:column; justify-content:space-between;
  align-items:flex-start; text-align:left; overflow:hidden; flex-shrink:0;
}
.s3 .stats-number{ font-weight:600; font-size:clamp(36px,6vw,72px); line-height:0.9; color:#287392; margin:0; }
.s3 .image-container{ width:140px; height:140px; overflow:hidden; display:flex; align-items:center; justify-content:center; margin:20px 0; flex-shrink:0; }
.s3 .stats-image{ width:100%; height:100%; object-fit:cover; object-position:center; display:block !important; }
.s3 .image-placeholder{
  width:100%; height:100%;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  background:linear-gradient(135deg,#e5f6f9,#48abc8);
  color:#333; font-weight:400; font-size:14px; text-align:center; opacity:0.8;
}
.s3 .placeholder-icon{ font-size:32px; margin-bottom:8px; opacity:0.7; }
.s3 .stats-description{ font-weight:500; font-size:18px; line-height:1.4; color:#265e78; margin:0; }

/* Optional: snap S1+S2 */
@supports (scroll-snap-type:y mandatory){
  .curtain{ scroll-snap-type:y proximity; }
  #scene1 .card, #scene2 .card{ scroll-snap-align:start; }
}

/* Motion safety */
@media (prefers-reduced-motion:reduce){ html{ scroll-behavior:auto; } }

/* -------- Mobile tweaks -------- */
@media (max-width:768px){
  :root{
    --text-ring-font-size:40px;
    --circle-offset-y:28vh;   /* bring ring/circle into view on phones */
  }
  .s1 .circle-center-image{ width:320px; height:320px; }

  /* Fit S2 content within 100vh on phones so it doesnâ€™t spill under S3 */
  .blank-card{ border-radius:20px; padding:20px clamp(12px,4vw,24px); row-gap:18px; }
  .blank-card p{ line-height:1.32; }
  .card-headline{ margin-bottom:6px; }
  .card-image-wrapper{ border-radius:20px; }

  .s3 .container{ padding:0 24px; margin-bottom:48px; }
  .s3 .main-heading{ margin-bottom:24px; }
  .s3 .description-text{ font-size:18px; line-height:1.5; }

  .s3 .cards-container{
    gap:20px; padding:0 20px;
    width:calc(320px * 4 + 20px * 3 + 40px);
    scrollbar-width:none;
  }
  .s3 .cards-container::-webkit-scrollbar{ display:none; }

  .s3 .stats-card{ width:320px; height:400px; padding:28px 22px; border-radius:20px; }
  .s3 .stats-number{ font-size:56px; }
  .s3 .image-container{ width:120px; height:120px; margin:16px 0; }
  .s3 .stats-description{ font-size:16px; }
  .s3 .placeholder-icon{ font-size:28px; }
}

@media (max-width:480px){
  :root{
    --text-ring-font-size:32px;
    --circle-offset-y:24vh;   /* keep ring visible even on small phones */
  }
  .s1 .circle-center-image{ width:280px; height:280px; }
}
